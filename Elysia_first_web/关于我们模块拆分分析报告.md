# 关于我们页面模块拆分分析报告

**基于文件**: `page-about-us.php`  
**模板名称**: 关于我们页面  
**来源**: 从 `swforming/index-4.html` 迁移

---

## 一、拆分清单表格（逻辑区块 → 建议模块）

> 说明：
> - "建议文件名"统一以 `template-parts/about_us/` 为归属目录来命名，便于在关于我们页面集中管理
> - "重用性评估"基于现有全站模块分析，标注可复用到 `components/` 或其他页面类型的模块

| 建议文件名（位于 `template-parts/about_us/`） | 功能描述 | HTML 标识/锚点（原文件定位特征） | 重用性评估 |
| :--- | :--- | :--- | :--- |
| `about-hero-title.php` | 页面首屏标题区，包含全宽背景、半透明遮罩、H1 标题 | `section[data-id="9b89ead"]`，内含 `.elementor-background-overlay` 和 `h1.elementor-heading-title`，通过 `<?php the_title(); ?>` 动态输出 | **全站通用模块**：类似的 Hero 标题结构出现在首页、产品详情、Blog 详情等多个页面，可抽象为 `template-parts/components/page-hero-title.php`，当前建议先用 `about_us/` 命名，后续迁移至 `components/` |
| `about-intro.php` | 关于我们简介（About SUNWAY），包含左侧产品图片、右侧标题+描述文本+CTA 按钮 | `section[data-id="3fd15dce"]`，左列 `elementor-widget-image`（图片 srcset 多尺寸），右列包含 `h5`（About SUNWAY）、`h2`（副标题）、两段文本描述、`elementor-widget-button`（CONTACT US 按钮） | **首页私有模块**：该"关于我们简介"区块目前在首页的 `front-page/section-about-intro.php` 中也有类似结构，但内容不同。建议作为 About Us 页面专用模块，暂不升为通用组件 |
| `about-capabilities.php` | 核心能力展示（Our Capabilities），包含左侧文本描述、右侧两张图片（主图+浮动装饰图） | `section[data-id="37486ef4"]`，渐变背景，左列包含 `h5`（Our Capabilities）、`h2`（标题）、文本描述、CTA 按钮（Step into our factory），右列包含主图和绝对定位的装饰图 | **首页私有模块**：该结构仅出现在 About Us 页面，其他页面无相同区块。建议作为 About Us 页面专用模块 |
| `about-mission.php` | 公司使命/目标/研发三栏展示（Our Mission / Our Gold / R & D），背景为幻灯片轮播 | `section[data-id="165f95c0"]`，幻灯片背景（slideshow），内部三个 `elementor-col-33` 列，每列包含编号（01/02/03）、标题和描述文本，带 `zoomIn` 动画效果 | **首页私有模块**：该三栏结构带有特定动画和幻灯片背景，仅出现在 About Us 页面，建议作为页面专用模块 |
| `about-content-body.php` | WordPress 编辑器内容区，支持在后台添加额外内容 | 223-233 行，PHP 条件判断 `<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>`，包裹 `<?php the_content(); ?>` | **全站通用模式**：这是标准的 WordPress 内容输出方式，建议保留在主模板文件中或作为通用模板片段（如 `template-parts/content-body.php`），其他页面也可复用 |

### 模块重用性汇总表

| 模块 | Elementor ID | 重用性评估 | 建议最终位置 |
| :--- | :--- | :--- | :--- |
| 页面首屏标题 | 9b89ead | 全站通用（多个页面有类似结构） | `template-parts/components/page-hero-title.php` |
| 公司简介区 | 3fd15dce | 首页/关于我们私有（内容不同但结构相似） | `template-parts/about_us/about-intro.php` |
| 核心能力区 | 37486ef4 | 关于我们私有 | `template-parts/about_us/about-capabilities.php` |
| 公司使命区 | 165f95c0 | 关于我们私有 | `template-parts/about_us/about-mission.php` |

---

## 二、拆分后的 `page-about-us.php` 结构预览

下面是一个「拆分完成后」的结构示意，展示如何用 `get_template_part()` 重组关于我们页面。

```php
<?php
/**
 * Template Name: 关于我们页面
 *
 * 关于我们页面模板 （从swforming/index-4.html 迁移）
 *
 * @package Elysia_First_Web
 */

get_header();
?>

<div class="entry-content is-layout-constrained">
	<div data-elementor-type="wp-page" data-elementor-id="188" class="elementor elementor-<?php echo get_the_ID(); ?>" data-elementor-post-type="page">
		
		<?php 
		// Section 1: Page Hero Title（建议后续迁移至 components/）
		get_template_part('template-parts/about_us/about-hero-title');
		?>

		<?php 
		// Section 2: About SUNWAY Introduction
		get_template_part('template-parts/about_us/about-intro');
		?>

		<?php 
		// Section 3: Our Capabilities
		get_template_part('template-parts/about_us/about-capabilities');
		?>

		<?php 
		// Section 4: Mission, Gold, R&D (Three Columns)
		get_template_part('template-parts/about_us/about-mission');
		?>

		<!-- WordPress Editor Content Area -->
		<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
			<?php if ( get_the_content() ) : ?>
				<div class="elementor-element elementor-element-populated">
					<div class="elementor-widget-wrap elementor-element-populated">
						<div class="elementor-widget-container">
							<?php the_content(); ?>
						</div>
					</div>
				</div>
			<?php endif; ?>
		<?php endwhile; endif; ?>

	</div>
</div>

<?php
get_footer();
```

### 命名约定与目录结构说明

根据现有项目规范，推荐的最终目录结构为：

```
template-parts/
├── about_us/                           # 关于我们页面专用模块
│   ├── about-hero-title.php            # 首屏标题（建议后续迁移至 components/）
│   ├── about-intro.php                 # 公司简介
│   ├── about-capabilities.php          # 核心能力
│   └── about-mission.php               # 使命/目标/研发三栏
├── components/                         # 全站通用组件
│   ├── page-hero-title.php             # （建议）通用 Hero 标题组件
│   ├── breadcrumbs.php                 # 面包屑导航
│   ├── share-buttons.php               # 分享按钮
│   └── toc.php                         # 目录导航
├── front-page/                         # 首页专用模块
│   ├── home-hero.php
│   ├── section-about-intro.php         # 首页关于我们简介（结构类似但内容不同）
│   └── ...
└── layout/                             # 布局级模块
    ├── site-header.php
    └── site-footer.php
```

---

## 三、拆分过程中的核心注意项

### 1. Elementor Section 结构的完整保留

**关键原则**：
- 每个 Section 的 `data-id`（如 `9b89ead`、`3fd15dce` 等）是 Elementor CSS 样式的锚点，**必须严格保留**，不能更改或丢失
- 所有 `class` 属性完整保留，包括：
  - `elementor-section`、`elementor-top-section`、`elementor-section-boxed` 等
  - 自定义类如 `ct-section-stretched`、`box1`
  - 动画相关类如 `hide-first`、`animated-fast`、`elementor-invisible`
- `data-settings` JSON 属性完整保留（如背景设置、动画配置）

**示例**：
```php
<!-- 必须保留的原始结构 -->
<section data-particle_enable="false" 
         data-particle-mobile-disabled="false" 
         class="elementor-section elementor-top-section elementor-element elementor-element-9b89ead ct-section-stretched elementor-section-height-min-height elementor-section-boxed elementor-section-items-middle" 
         data-id="9b89ead" 
         data-element_type="section" 
         data-settings="{"background_background":"classic"}">
```

### 2. WordPress 模板函数的正确使用

**路径转换**：
```php
// 原始 HTML（硬编码）
src="static/image/240702111754-1-1024x576.jpg"

// WordPress 模板（动态路径）
src="<?php echo get_stylesheet_directory_uri(); ?>/static/image/240702111754-1-1024x576.jpg"
```

**链接转换**：
```php
// 原始 HTML
href="purlin-roll-forming-machine-all-in-one-2023/"
href="index-6.html"

// WordPress 模板
href="<?php echo home_url('purlin-roll-forming-machine-all-in-one-2023/'); ?>"
href="<?php echo home_url('factory'); ?>"
```

**动态内容输出**：
```php
// 页面标题
<h1 class="elementor-heading-title elementor-size-default"><?php the_title(); ?></h1>

// WordPress 编辑器内容
<?php the_content(); ?>
```

### 3. 资源引用与特殊字符处理

**图片 srcset 属性**：
```php
<img srcset="<?php echo get_stylesheet_directory_uri(); ?>/static/image/240702111754-1-1024x576.jpg 1024w, 
             <?php echo get_stylesheet_directory_uri(); ?>/static/image/240702111754-1-300x169.jpg 300w, 
             <?php echo get_stylesheet_directory_uri(); ?>/static/image/240702111754-1-768x432.jpg 768w, 
             <?php echo get_stylesheet_directory_uri(); ?>/static/image/240702111754-1.jpg 1066w" 
     sizes="(max-width: 1024px) 100vw, 1024px">
```

**弹窗链接（Base64 编码）**：
```php
// 原始 HTML
href="#elementor-action:action=popup:open&settings=eyJpZCI6IjMwNiIsInRvZ2dsZSI6ZmFsc2V9"

// WordPress 模板（保持不变，这是 Elementor Popup 的固定格式）
href="#elementor-action:action=popup:open&settings=eyJpZCI6IjMwNiIsInRvZ2dsZSI6ZmFsc2V9"
```

### 4. 幻灯片背景处理

**Section 4（关于使命）的幻灯片背景**：
```php
data-settings="{
  &quot;background_background&quot;:&quot;slideshow&quot;,
  &quot;background_slideshow_gallery&quot;:[{
    &quot;id&quot;:208,
    &quot;url&quot;:&quot;https://swforming.com/wp-content/uploads/2022/09/2f004a2c-1591-4343-87c9-eafcbb371674.jpg&quot;
  },{
    &quot;id&quot;:210,
    &quot;url&quot;:&quot;https://swforming.com/wp-content/uploads/2022/09/8dde4f39-3017-4525.jpg&quot;
  }],
  &quot;background_slideshow_loop&quot;:&quot;yes&quot;,
  &quot;background_slideshow_slide_duration&quot;:5000,
  &quot;background_slideshow_slide_transition&quot;:&quot;fade&quot;,
  &quot;background_slideshow_transition_duration&quot;:500
}"
```

**注意**：
- 当前使用在线 URL，建议下载到本地并更新为 `get_stylesheet_directory_uri()` 路径
- JSON 需要正确转义双引号（如 `&quot;`）
- 幻灯片设置在 `data-settings` 中，不能单独拆出

### 5. 动画效果保留

**ZoomIn 动画**（Section 4 三个子模块）：
```php
<div class="elementor-element elementor-element-117abb6e 
            hide-first animated-fast elementor-invisible 
            elementor-widget elementor-widget-text-editor" 
     data-id="117abb6e" 
     data-element_type="widget" 
     data-settings={"_animation":"zoomIn"}" 
     data-widget_type="text-editor.default">
```

**必须保留的类和属性**：
- `hide-first`：初始隐藏
- `animated-fast`：快速动画类
- `elementor-invisible`：Elementor 隐藏类
- `data-settings={"_animation":"zoomIn"}`：动画配置

### 6. 全局变量与 Hooks

**本页面不涉及 WooCommerce 相关 Hooks**，因为这是纯 WordPress 页面，不是产品页面。

**需要保留的 WordPress Hooks**：
- `get_header()`：包含 `wp_head()` Hook
- `get_footer()`：包含 `wp_footer()` Hook
- `have_posts()` / `the_post()` / `the_content()`：WordPress 标准内容循环

**无全局变量依赖**：
- 本页面不依赖 `$product`、`$wp_query` 等全局变量
- 不需要 `wp_reset_postdata()` 重置查询

### 7. 响应式类名保留

**Elementor 响应式类**：
- `elementor-mobile-align-center`：移动端居中对齐
- `elementor-align-left`：左对齐
- `elementor-column-gap-custom`：自定义列间距
- `elementor-col-100` / `elementor-col-50` / `elementor-col-33`：响应式列宽

**CT Theme 自定义类**：
- `ct-section-stretched`：全宽拉伸
- `box1`：自定义盒子样式（Section 4 三个子模块）

---

## 四、模块拆分优先级建议

### 第一阶段：基础模块拆分（立即执行）

1. **`about-hero-title.php`**
   - 优先级：⭐⭐⭐⭐⭐
   - 原因：全站通用，可抽象为组件
   - 建议先在 `about_us/` 中实现，后续迁移至 `components/`

2. **`about-intro.php`**
   - 优先级：⭐⭐⭐⭐⭐
   - 原因：核心内容区块，图片+文本+CTA 完整结构

3. **`about-capabilities.php`**
   - 优先级：⭐⭐⭐⭐
   - 原因：渐变背景+双图布局，结构独立

4. **`about-mission.php`**
   - 优先级：⭐⭐⭐⭐
   - 原因：三栏+幻灯片背景，动画效果完整

### 第二阶段：优化与重构（后续执行）

1. **Hero 标题组件抽象**
   - 将 `about-hero-title.php` 提炼为 `components/page-hero-title.php`
   - 支持自定义背景、标题、副标题等参数
   - 首页、产品详情、Blog 详情等多个页面复用

2. **内容区标准化**
   - 将 WordPress 编辑器内容区提炼为通用组件
   - 统一 `.entry-content` 和 `.elementor-widget-container` 结构

3. **CSS 优化**
   - 抽取重复的 Elementor 类名组合为通用样式
   - 减少 CSS 冗余

---

## 五、测试清单

拆分完成后，需进行以下测试：

### 5.1 功能测试

- [ ] 页面正常加载，无 PHP 错误
- [ ] 所有链接正常跳转（Home、Factory、C/Z Purlin Machine 等）
- [ ] CONTACT US 按钮触发弹窗
- [ ] 幻灯片背景正常轮播
- [ ] 动画效果正常触发（ZoomIn）
- [ ] 响应式布局正常（桌面/平板/手机）

### 5.2 视觉对比测试

- [ ] 与原始 `about-us.html` 进行视觉对比
- [ ] 检查所有图片正确加载
- [ ] 检查所有文本内容一致
- [ ] 检查所有样式效果一致

### 5.3 浏览器兼容性测试

- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge
- [ ] 移动端浏览器

### 5.4 性能测试

- [ ] 页面加载速度
- [ ] 图片优化（WebP 格式、压缩）
- [ ] CSS/JS 合并与压缩
- [ ] 缓存策略

---

## 六、命名规范总结

### 6.1 文件命名规范

| 模块类型 | 命名模式 | 示例 |
| :--- | :--- | :--- |
| 页面专用模块 | `<页面名>-<功能名>.php` | `about-hero-title.php`、`about-intro.php` |
| 全站通用组件 | `<功能名>.php` | `page-hero-title.php`、`breadcrumbs.php` |
| 循环卡片 | `card-<类型>.php` | `card-product.php`、`card-post.php` |
| 布局级模块 | `<layout>-<部位>.php` | `site-header.php`、`site-footer.php` |

### 6.2 目录命名规范

```
template-parts/
├── <页面类型>_<后缀>/          # 页面专用模块（如 about_us、product_detail、solution_detail）
├── components/                  # 全站通用组件
├── layout/                     # 布局级模块
├── loop/                       # 循环卡片
└── woocommerce/                # WooCommerce 专用模块
```

### 6.3 PHP 模板注释规范

```php
<?php
/**
 * 模块名称
 *
 * 功能描述
 *
 * @package Elysia_First_Web
 * @since 1.0.0
 */
?>
```

---

## 七、后续工作建议

### 7.1 短期（1-2周）

1. ✅ 完成四个基础模块拆分
2. ✅ 测试所有功能正常
3. ✅ 视觉对比验证通过
4. ✅ 文档更新（README.md）

### 7.2 中期（1-2个月）

1. 📦 Hero 标题组件抽象为全站通用
2. 📦 WordPress 内容区标准化
3. 📦 CSS 优化与冗余清理
4. 📦 图片资源本地化（当前使用在线 URL）

### 7.3 长期（3-6个月）

1. 🔧 引入 ACF 插件实现动态化
2. 🔧 多语言支持（WPML/Polylang）
3. 🔧 性能优化（CDN、图片压缩、缓存）
4. 🔧 SEO 优化（结构化数据、Meta 标签）

---

## 八、附录：Elementor ID 映射表

| 模块 | Elementor ID | 行号范围 | 依赖资源 |
| :--- | :--- | :--- | :--- |
| Hero 标题 | `9b89ead` | 17-30 | 无 |
| 公司简介 | `3fd15dce` | 33-76 | `240702111754-1-*.jpg` |
| 核心能力 | `37486ef4` | 79-126 | `e9a3fd78-*.jpg`、`f3e8d9e7-*.jpg` |
| 公司使命 | `165f95c0` | 129-220 | `2f004a2c-*.jpg`、`8dde4f39-*.jpg`（在线） |
| WordPress 内容 | - | 223-233 | - |

---

## 九、技术栈说明

### 9.1 WordPress 版本

- WordPress Core：6.x
- Elementor Pro：3.x（假设）
- 主题：自定义主题 Elysia_First_Web

### 9.2 依赖插件

- Elementor（页面构建器）
- Elementor Popup（弹窗功能）
- WooCommerce（产品管理，本页面不直接依赖）

### 9.3 前端技术

- CSS：Elementor 生成 + 主题自定义样式
- JavaScript：Elementor 动画 + 交互逻辑
- 图片：JPEG/WebP 格式，响应式 srcset

---

**报告生成时间**：2026-01-04  
**文档版本**：v1.0  
**维护者**：WordPress 开发团队
